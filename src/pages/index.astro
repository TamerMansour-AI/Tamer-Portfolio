---
import CTAButtons from "../components/CTAButtons.astro";
import Section from "../components/Section.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { servicesEn } from "../data/services";
import { siteData } from "../data/site";
import { workItemsEn } from "../data/work";
import { withBase } from "../utils/withBase";

const heroVideo = withBase("/media/hero/hero.mp4");
const heroPoster = withBase("/media/hero/hero-poster.jpg");
---
<BaseLayout
  title="Tamer Mansour | Cinematic AI Storytelling"
  description="Premium AI media creation, cinematic storytelling, and creator education for brands and teams that want attention and trust."
  path="/"
>
  <section class="container-shell py-14 sm:py-20">
    <div class="grid items-center gap-8 lg:grid-cols-[1.1fr_1fr] lg:gap-10">
      <div>
        <p class="text-xs uppercase tracking-[0.22em] text-gold">Cinematic Production * Training * Practical AI Systems</p>
        <h1 class="mt-5 text-3xl font-semibold leading-tight tracking-tight text-white sm:text-5xl">
          Cinematic storytelling that turns attention into trust, and trust into action.
        </h1>
        <p class="mt-5 max-w-2xl text-sm leading-relaxed text-sand/85 sm:text-base">
          I help founders, teams, and institutions build premium visual narratives with repeatable systems. Every project is designed
          for brand clarity, audience retention, and measurable conversion.
        </p>
        <CTAButtons className="mt-7" />
      </div>
      <div class="relative aspect-[4/5] overflow-hidden rounded-3xl border border-white/10 bg-white/5 sm:aspect-video">
        <div
          id="hero-video-fallback"
          class="absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(212,175,106,0.35),transparent_45%),radial-gradient(circle_at_80%_30%,rgba(255,255,255,0.08),transparent_50%),linear-gradient(130deg,rgba(15,15,15,0.95),rgba(30,30,30,0.95))]"
        >
          <div class="flex h-full items-end p-6">
            <div>
              <p class="text-xs uppercase tracking-[0.2em] text-gold">Hero Video Slot</p>
              <p class="mt-2 text-sm text-sand/80">Upload `public/media/hero/hero.mp4` and `hero-poster.jpg` to activate this panel.</p>
            </div>
          </div>
        </div>
        <video
          id="hero-video"
          class="absolute inset-0 hidden h-full w-full object-cover"
          autoplay
          muted
          loop
          playsinline
          preload="metadata"
          poster={heroPoster}
        >
          <source src={heroVideo} type="video/mp4" />
        </video>
      </div>
    </div>
  </section>

  <Section
    title="What I Build"
    copy="I combine cinematic quality, training depth, and practical AI implementation so your team can ship better work consistently."
  >
    <div class="grid gap-4 sm:grid-cols-3">
      <article class="glass-card p-6">
        <h3 class="text-lg font-semibold text-white">Cinematic Production</h3>
        <p class="mt-3 text-sm leading-relaxed text-sand/80">Ads, short films, and visual narratives crafted for emotional clarity and conversion.</p>
      </article>
      <article class="glass-card p-6">
        <h3 class="text-lg font-semibold text-white">Training and Workshops</h3>
        <p class="mt-3 text-sm leading-relaxed text-sand/80">Hands-on programs for teams, creators, and educators ready to level up visual output.</p>
      </article>
      <article class="glass-card p-6">
        <h3 class="text-lg font-semibold text-white">Practical AI Systems</h3>
        <p class="mt-3 text-sm leading-relaxed text-sand/80">Prompt libraries, workflows, and content systems your team can run without chaos.</p>
      </article>
    </div>
  </Section>

  <Section title="Selected Work" copy="Recent pieces that blend story, speed, and cinematic finish.">
    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      {
        workItemsEn.slice(0, 3).map((item) => (
          <article class="glass-card overflow-hidden">
            <img src={withBase(item.image)} alt={item.title} loading="lazy" class="h-48 w-full object-cover" />
            <div class="p-5">
              <p class="text-xs uppercase tracking-wide text-gold">{item.type}</p>
              <h3 class="mt-2 text-lg font-semibold text-white">{item.title}</h3>
              <p class="mt-2 text-sm text-sand/75">{item.summary}</p>
              <a href={item.youtubeUrl} class="gold-link mt-4 inline-block text-sm font-semibold" target="_blank" rel="noreferrer">
                Watch project
              </a>
            </div>
          </article>
        ))
      }
    </div>
    <a href={withBase("/work/")} class="gold-link mt-8 inline-block text-sm font-semibold">View all work</a>
  </Section>

  <Section title="Services" copy="Conversion-focused offers for creators, brands, and organizations.">
    <div class="grid gap-4 md:grid-cols-3">
      {
        servicesEn.map((service) => (
          <article class="glass-card p-6">
            <h3 class="text-lg font-semibold text-white">{service.title}</h3>
            <p class="mt-3 text-sm text-sand/80">{service.summary}</p>
          </article>
        ))
      }
    </div>
    <a href={withBase("/services/")} class="gold-link mt-8 inline-block text-sm font-semibold">Explore service details</a>
  </Section>

  <Section
    title="About Tamer"
    copy="I blend narrative craft, AI experimentation, and education to help teams produce visual work that feels alive and performs."
  >
    <a href={withBase("/about/")} class="gold-link text-sm font-semibold">Read the full story</a>
  </Section>

  <Section
    title="Ready to elevate your visual presence?"
    copy="If your next campaign, launch, or program needs a stronger story and sharper creative direction, let's build it properly."
  >
    <CTAButtons />
    <p class="mt-4 text-sm text-sand/70">{siteData.location}</p>
  </Section>
</BaseLayout>

<script>
  const heroVideo = document.getElementById("hero-video");
  const heroFallback = document.getElementById("hero-video-fallback");

  if (heroVideo instanceof HTMLVideoElement && heroFallback instanceof HTMLElement) {
    heroVideo.addEventListener("loadeddata", () => {
      heroVideo.classList.remove("hidden");
      heroFallback.classList.add("hidden");
    });
  }
</script>
